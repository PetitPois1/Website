<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong Game</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #1e1e2f;
            font-family: 'Arial', sans-serif;
            color: white;
        }
        h1 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 20px;
            color: #bb86fc;
        }
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        canvas {
            border: 3px solid #6200ea;
        }
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        .button {
            background-color: #6200ea;
            color: white;
            font-size: 18px;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #3700b3;
        }
        select {
            font-size: 16px;
            padding: 5px;
            background-color: #3700b3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        select:hover {
            background-color: #6200ea;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Pong Game</h1>
        <canvas id="pong" width="800" height="400"></canvas>
        <div class="controls">
            <button id="startButton" class="button">Start Game</button>
            <div>
                <label for="difficulty">Select Difficulty:</label>
                <select id="difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById("pong");
        const ctx = canvas.getContext("2d");
        const startButton = document.getElementById("startButton");
        const difficultySelect = document.getElementById("difficulty");

        let gameStarted = false;
        let playerPaddle, computerPaddle, ball;
        let playerScore = 0, computerScore = 0;
        let ballSpeed = 4, paddleSpeed = 20;
        let difficulty = "easy";  // Default difficulty

        // Paddle Constructor
        function Paddle(x, y, width, height, color) {
            this.x = x;
            this.y = y;
            this.width = width;
            this.height = height;
            this.color = color;
            this.dy = 0;
            this.move = function() {
                if (this.y + this.height > canvas.height || this.y < 0) {
                    this.dy = 0;
                }
                this.y += this.dy;
            };
            this.draw = function() {
                ctx.fillStyle = this.color;
                ctx.fillRect(this.x, this.y, this.width, this.height);
            };
        }

        // Ball Constructor
        function Ball(x, y, radius, speedX, speedY, color) {
            this.x = x;
            this.y = y;
            this.radius = radius;
            this.speedX = speedX;
            this.speedY = speedY;
            this.color = color;
            this.move = function() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {
                    this.speedY = -this.speedY;
                }

                if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {
                    this.reset();
                }
            };
            this.reset = function() {
                this.x = canvas.width / 2;
                this.y = canvas.height / 2;
                this.speedX = (Math.random() < 0.5 ? 1 : -1) * ballSpeed;
                this.speedY = (Math.random() * 2 - 1) * ballSpeed;
            };
            this.draw = function() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.closePath();
            };
        }

        // Initialize the game objects
        function init() {
            playerPaddle = new Paddle(10, canvas.height / 2 - 30, 10, 60, "#6200ea");
            computerPaddle = new Paddle(canvas.width - 20, canvas.height / 2 - 30, 10, 60, "#bb86fc");
            ball = new Ball(canvas.width / 2, canvas.height / 2, 10, (Math.random() < 0.5 ? 1 : -1) * ballSpeed, (Math.random() * 2 - 1) * ballSpeed, "#ffffff");
        }

        // Update the difficulty level
        function updateDifficulty() {
            difficulty = difficultySelect.value;
            switch (difficulty) {
                case "easy":
                    ballSpeed = 4;
                    paddleSpeed = 20;
                    break;
                case "medium":
                    ballSpeed = 6;
                    paddleSpeed = 25;
                    break;
                case "hard":
                    ballSpeed = 8;
                    paddleSpeed = 30;
                    break;
            }
            resetGame();
        }

        // Game Reset
        function resetGame() {
            playerScore = 0;
            computerScore = 0;
            ball.reset();
            gameStarted = false;
            startButton.style.display = "inline-block";
        }

        // Draw the score
        function drawScore() {
            ctx.fillStyle = "#ffffff";
            ctx.font = "24px Arial";
            ctx.fillText("Player: " + playerScore, 50, 30);
            ctx.fillText("Computer: " + computerScore, canvas.width - 150, 30);
        }

        // Game Loop
        function gameLoop() {
            if (!gameStarted) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            ball.move();
            playerPaddle.move();
            computerPaddle.move();

            ball.draw();
            playerPaddle.draw();
            computerPaddle.draw();
            drawScore();

            // Computer AI movement
            if (computerPaddle.y + computerPaddle.height / 2 < ball.y) {
                computerPaddle.dy = paddleSpeed;
            } else if (computerPaddle.y + computerPaddle.height / 2 > ball.y) {
                computerPaddle.dy = -paddleSpeed;
            } else {
                computerPaddle.dy = 0;
            }

            if (ball.x - ball.radius < playerPaddle.x + playerPaddle.width && ball.y > playerPaddle.y && ball.y < playerPaddle.y + playerPaddle.height) {
                ball.speedX = -ball.speedX;
                playerScore++;
            }

            if (ball.x + ball.radius > computerPaddle.x && ball.y > computerPaddle.y && ball.y < computerPaddle.y + computerPaddle.height) {
                ball.speedX = -ball.speedX;
                computerScore++;
            }

            requestAnimationFrame(gameLoop);
        }

        // Event listeners
        startButton.addEventListener("click", function() {
            gameStarted = true;
            startButton.style.display = "none";
            gameLoop();
        });

        difficultySelect.addEventListener("change", updateDifficulty);

        document.addEventListener("keydown", function(e) {
            if (e.key === "ArrowUp") {
                playerPaddle.dy = -paddleSpeed;
            } else if (e.key === "ArrowDown") {
                playerPaddle.dy = paddleSpeed;
            }
        });

        document.addEventListener("keyup", function() {
            playerPaddle.dy = 0;
        });

        init();
    </script>
</body>
</html>
