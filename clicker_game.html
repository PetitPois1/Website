<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Industrial Clicker - Credits Edition</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
            background-color: #1b2a1d;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
            overflow-x: hidden;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 5px;
            color: #66cc66;
            text-shadow: 2px 2px #000;
        }
        .stats-container {
            text-align: center;
            margin-bottom: 20px;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            width: 320px;
            border: 1px solid #2d4a30;
        }
        .circle {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, #006400 0%, #004d00 100%);
            border: 4px solid #66cc66;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            box-shadow: 0 0 20px rgba(102, 204, 102, 0.2);
            transition: transform 0.05s linear;
            position: relative;
        }
        .circle:active { transform: scale(0.92); }

        /* Floating Text Animation */
        .floating-text {
            position: absolute;
            color: #66cc66;
            font-weight: bold;
            pointer-events: none;
            z-index: 10;
            animation: moveUp 0.6s ease-out forwards;
        }
        @keyframes moveUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }

        .shop {
            width: 95%;
            max-width: 550px;
            margin: 20px auto;
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #2d4a30;
        }
        .shop-item-container {
            margin-bottom: 15px;
            border-bottom: 1px solid #2d4a30;
            padding-bottom: 10px;
        }
        .shop-item {
            width: 100%;
            background-color: #004d00;
            color: white;
            padding: 12px;
            border-radius: 5px;
            border: 1px solid #66cc66;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            transition: 0.2s;
        }
        .shop-item:hover:not(.disabled) { background-color: #66cc66; color: #000; }
        .shop-item.disabled {
            background-color: #222;
            border-color: #444;
            color: #777;
            cursor: not-allowed;
            opacity: 0.6;
        }
        .item-info { font-size: 0.85rem; color: #aaddaa; margin-top: 5px; font-style: italic; }
        .upgrade-count { font-size: 0.9rem; color: #66cc66; font-weight: bold; }
        
        .reset-button {
            margin-top: 30px;
            background-color: #631c1c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            opacity: 0.7;
        }
        .reset-button:hover { opacity: 1; }
    </style>
</head>
<body>

    <h1>Industrial Clicker</h1>
    
    <div class="stats-container">
        <div style="font-size: 1.8rem; font-weight: bold;"><span id="clickCount">0</span> Credits</div>
        <div style="color: #66cc66; margin-top: 5px;">Production: <span id="cpsCount">0</span> Credits/sec</div>
    </div>

    <div class="circle" id="circle">CLICK</div>

    <div class="shop">
        <h2 style="text-align: center; color: #66cc66; margin-top: 0;">Factory Upgrades</h2>
        <div id="shop-list"></div>
    </div>

    <button class="reset-button" id="resetButton">Wipe Factory Data</button>

    <script>
        // --- GAME DATA ---
        let credits = 0;
        let clickValue = 1;
        let autoClickValue = 0;

        const upgradeData = {
            upgradeClick: { name: "Broken Tool", desc: "+1 per manual click.", baseCost: 10, addClick: 1, addAuto: 0 },
            autoClicker: { name: "Worker", desc: "+1 Credit every second.", baseCost: 50, addClick: 0, addAuto: 1 },
            goldenClick: { name: "Rusty Tool", desc: "+5 per manual click.", baseCost: 100, addClick: 5, addAuto: 0 },
            superAutoClicker: { name: "Qualified Worker", desc: "+5 Credits every second.", baseCost: 200, addClick: 0, addAuto: 5 },
            megaClick: { name: "Metal Tool", desc: "+10 per manual click.", baseCost: 500, addClick: 10, addAuto: 0 },
            ultraAutoClicker: { name: "Manager", desc: "+20 Credits every second.", baseCost: 1000, addClick: 0, addAuto: 20 },
            platinumClick: { name: "Golden Tool", desc: "+50 per manual click.", baseCost: 2500, addClick: 50, addAuto: 0 },
            hyperAutoClicker: { name: "Broken Machinery", desc: "+50 Credits every second.", baseCost: 5000, addClick: 0, addAuto: 50 },
            diamondClick: { name: "Platinum Tool", desc: "+100 per manual click.", baseCost: 10000, addClick: 100, addAuto: 0 },
            ultimateAutoClicker: { name: "Mended Machinery", desc: "+200 Credits every second.", baseCost: 20000, addClick: 0, addAuto: 200 },
            galacticClick: { name: "Radioactive Tool", desc: "+500 per manual click.", baseCost: 50000, addClick: 500, addAuto: 0 },
            cosmicAutoClicker: { name: "Diamond Machinery", desc: "+500 Credits every second.", baseCost: 100000, addClick: 0, addAuto: 500 },
            universalClick: { name: "Nuclear Tool", desc: "+1,000 per manual click.", baseCost: 250000, addClick: 1000, addAuto: 0 },
            infinityAutoClicker: { name: "New Factory Branch", desc: "+1,000 Credits every second.", baseCost: 500000, addClick: 0, addAuto: 1000 },
            omegaClick: { name: "Plasma Tool", desc: "+5,000 per manual click.", baseCost: 1000000, addClick: 5000, addAuto: 0 }
        };

        let inventory = {};
        Object.keys(upgradeData).forEach(id => inventory[id] = 0);

        // --- CORE LOGIC ---

        function calculateCost(id) {
            return Math.round(upgradeData[id].baseCost * Math.pow(1.15, inventory[id]));
        }

        function updateUI() {
            document.getElementById('clickCount').textContent = Math.floor(credits).toLocaleString();
            document.getElementById('cpsCount').textContent = autoClickValue.toLocaleString();
            document.getElementById('circle').textContent = `+${clickValue.toLocaleString()}`;

            Object.keys(upgradeData).forEach(id => {
                const btn = document.getElementById(id);
                const countDisplay = document.getElementById(`${id}-count`);
                const cost = calculateCost(id);
                
                btn.innerHTML = `<span>${upgradeData[id].name}</span> <span>${cost.toLocaleString()} Credits</span>`;
                countDisplay.textContent = `Owned: ${inventory[id]}`;

                if (credits >= cost) {
                    btn.classList.remove('disabled');
                    btn.disabled = false;
                } else {
                    btn.classList.add('disabled');
                    btn.disabled = true;
                }
            });
        }

        function buyUpgrade(id) {
            const cost = calculateCost(id);
            if (credits >= cost) {
                credits -= cost;
                inventory[id]++;
                recalculatePowers();
                updateUI();
                saveGame();
            }
        }

        function recalculatePowers() {
            clickValue = 1;
            autoClickValue = 0;
            Object.keys(inventory).forEach(id => {
                clickValue += (upgradeData[id].addClick * inventory[id]);
                autoClickValue += (upgradeData[id].addAuto * inventory[id]);
            });
        }

        // --- VISUALS ---

        function createFloatingText(event) {
            const floating = document.createElement('div');
            floating.className = 'floating-text';
            floating.innerText = `+${clickValue}`;
            floating.style.left = `${event.clientX}px`;
            floating.style.top = `${event.clientY}px`;
            document.body.appendChild(floating);
            setTimeout(() => floating.remove(), 600);
        }

        // --- SAVE SYSTEM ---

        function saveGame() {
            const saveData = { credits, inventory };
            localStorage.setItem("IndustrialSave_v3", JSON.stringify(saveData));
        }

        function loadGame() {
            const saved = localStorage.getItem("IndustrialSave_v3");
            if (saved) {
                const data = JSON.parse(saved);
                credits = data.credits || 0;
                inventory = data.inventory || inventory;
                recalculatePowers();
            }
            updateUI();
        }

        // --- INITIALIZATION ---

        const shopList = document.getElementById('shop-list');
        Object.keys(upgradeData).forEach(id => {
            const container = document.createElement('div');
            container.className = 'shop-item-container';
            container.innerHTML = `
                <button class="shop-item" id="${id}"></button>
                <div class="item-info">${upgradeData[id].desc}</div>
                <div class="upgrade-count" id="${id}-count">Owned: 0</div>
            `;
            shopList.appendChild(container);
            document.getElementById(id).addEventListener('click', () => buyUpgrade(id));
        });

        document.getElementById('circle').addEventListener('click', (e) => {
            credits += clickValue;
            createFloatingText(e);
            updateUI();
        });

        document.getElementById('resetButton').addEventListener('click', () => {
            if(confirm("Confirm Factory Wipe? All Credits and Upgrades will be lost!")) {
                localStorage.removeItem("IndustrialSave_v3");
                location.reload();
            }
        });

        // Intervals: 10 ticks per second for smoothness
        setInterval(() => {
            if (autoClickValue > 0) {
                credits += (autoClickValue / 10);
                updateUI();
            }
        }, 100);

        setInterval(saveGame, 15000);
        loadGame();
    </script>
</body>
</html>
